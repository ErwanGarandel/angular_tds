<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <base href = "http://angular.kobject.net/">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/css.css" />
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>


    <title>Index</title>
    <div class="">
    <h3> Ex 1 : Note Application</h3>
    </div>
    <style type="text/css">
        body {background:#eee}
        #pge {display:block;width:400px;margin:0 auto;padding:7px;background:#ddd}
        legend {font-size:x-large;font-weight:bold;}
        p {margin:3px;text-align:right;}
        textarea {display:block;width:360px;overflow:hidden;margin:0 auto;}
        .bold {font-weight:bold}
    </style>

    </head>
    <body data-ng-app="">
    <div id="pge">
  <fieldset>
      <p id="cnt"></p>
    <legend>Note :</legend>
    <textarea type="text" id="txa" ng-model="myName" placeholder="Ecrire something" cols="100" rows="5" autofocus onkeyup="reste(this.value); " required></textarea>
        <br />
        <div>
            <input class="btn btn-primary" type="button" value="Enregistrer">
        </div>
        <div>
            <input class="btn btn-primary" type="button" value ="Effacer" onclick="effacer()">
        </div>
  </fieldset>
    </div>
    <script type="text/javascript">
        var maxChr=100; // limite max fixée
        function $(i){return document.getElementById(i)}
        function red(nbrChr){return Math.round(255*Math.pow(0.977,maxChr-nbrChr))}
        function countChr()
        {
            var len=$('txa').value.length;
            if (maxChr<len)
            {
                $('txa').value=$('txa').value.substr(0,maxChr);
                len=maxChr
            }
            $('cnt').innerHTML='<span style="color:rgb('+red(len)+',0,0)">'+len+' caractère'+(1<len?'s':'')+'</span> / '+maxChr;
            if (len<maxChr)
                $('cnt').className="";
            else
                $('cnt').className="bold";
        };

        (function()
        {
            $('txa').onkeyup=countChr;
            countChr();
        })();
    </script>

    <script type="text/javascript">
        function effacer()
        {
            document.getElementById("txa").value="";
        }
    </script>

</body>
</html>